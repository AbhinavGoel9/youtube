/*--------------------------------------------------------------
>>> COMMENTS:
----------------------------------------------------------------
# Sidebar
# Comments
	# Collapsed
	# Hidden
# Squared User Images
# Hide avatars
--------------------------------------------------------------*/

@media screen and (min-width: 1600px) {	
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #related {  width: auto !important;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #columns {  max-width: 100%;}

	html[data-page-type=video][it-comments-sidebar='true'][it-sidebar-left='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #comments { max-right: -25px  !important;} 
	html[data-page-type=video][it-comments-sidebar='true'][it-sidebar-left='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #secondary {
		border-left: 0;
		border-right: 1px solid var(--yt-spec-10-percent-layer);
		padding-left: 20px;
		flex-shrink: 2;
		min-width: 300px;
	}

	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #secondary {overflow-y: scroll}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy #secondary {padding-left: 12px;padding-right: 12px; padding-top: 0!important;border-left: 1px solid var(--yt-spec-10-percent-layer); min-width: 300px;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy #secondary-inner {padding-top: 24px;}

	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #comments {overflow-y: scroll}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy #comments { padding-left: 12px; padding-right: 12px; max-width: 420px; min-width: 300px; width:unset; display: block !important; flex: 0 1 auto}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #primary-inner {width: 1280px;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #primary {
		padding-right: 15px;
		border-right: 1px solid var(--yt-spec-10-percent-layer);
		flex: 0 0 auto;
    max-width: 1280px;
	}
	
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) ytd-live-chat-frame#chat {width: 100%;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy #playlist { padding-top: 24px; min-width: unset !important;}


	/* html[data-page-type=video][it-comments-sidebar='true']:not([it-player-size='1080p']):not([it-player-size='1440p']):not([it-player-size='2160p']):not([it-player-size='custom']):not([it-player-size='max_width']) ytd-watch-flexy:not([fullscreen]) #primary {
	min-width: min(calc(100vw - 1000px), 1260px) !important; max-width: 1260px !important; }
	 */
	/* DIFFERENT HEADERS HEIGHT*/
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=normal] #comments, /* BUG: if header has never been switched back and forth to normal, [normal] selector isn't applied */
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=normal] #secondary,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=static] #comments,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=static] #secondary {
		height: calc(100vh - 56px);
	}
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hover] #comments,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hover] #secondary,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hover_on_video_page] #comments,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hover_on_video_page] #secondary{
		height: calc(100vh - 14px);
	}
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hidden] #comments,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hidden] #secondary,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hidden_on_video_page] #comments,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hidden_on_video_page] #secondary{
		height: calc(100vh);
	}
}

@media screen and (min-width: 1000px) and (max-width: 1599px) {	
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #primary {
		overflow-x: hidden; overflow-y: scroll; margin-left: 0; padding-left: 24px; padding-right: 15px; border-right: 1px solid var(--yt-spec-10-percent-layer); max-width: fit-content !important;
	}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #player {margin: 0 auto !important;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #secondary {overflow-y: scroll; margin-right: 0; padding-right: 0 !important; padding-top: 0 !important; max-width: 420px !important;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #secondary-inner {padding-left: 24px; padding-top: 24px; padding-right: 24px; box-sizing: border-box;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-watch-flexy:not([theater]):not([fullscreen]) #primary-content {overflow: hidden;}
	html[data-page-type=video][it-comments-sidebar='true'] ytd-live-chat-frame#chat, 
	html[data-page-type=video][it-comments-sidebar='true'] #donation-shelf,
	html[data-page-type=video][it-comments-sidebar='true'] ytd-reel-shelf-renderer 
	{width: 100% !important;}
	
	/* DIFFERENT HEADERS HEIGHT*/
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=normal] #columns, /* BUG: if header has never been changed then set to normal, normal selector isn't applied */
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=static] #columns {
		height: calc(100vh - 56px);
	}
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hover] #columns,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hover_on_video_page] #columns{
		height: calc(100vh - 14px);
	}
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hidden] #columns,
	html[data-page-type=video][it-comments-sidebar='true'][it-header-position=hidden_on_video_page] #columns{
		height: calc(100vh);
	}
}

/* CUSTOM ENHANCEMENTS */
html[data-page-type=video] #playlist { width: 100% !important; max-height: 460px; } /* SHOULD FIX #1693 */
html[data-page-type=video] ytd-watch-flexy #chat > tp-yt-paper-button#label { width:calc(100% - 40px); }
html[data-page-type=video] ytd-watch-flexy #right-arrow-container.ytd-merch-shelf-renderer { right: 44px !important; }

html[data-page-type=video][it-comments-sidebar='true'] #contentContainer::after {pointer-events: none !important;}
html[data-page-type=video][it-comments-sidebar='true'] ytd-reel-shelf-renderer {width: 100%; padding: 0 16px; box-sizing: border-box;}

/* GRID RELATED */
html[data-page-type=video][it-comments-sidebar='true'] #items.ytd-watch-next-secondary-results-renderer ytd-compact-video-renderer,
html[data-page-type=video][it-comments-sidebar='true'] #items.ytd-watch-next-secondary-results-renderer ytd-compact-radio-renderer,
html[data-page-type=video][it-comments-sidebar='true'] #items.ytd-watch-next-secondary-results-renderer ytd-compact-playlist-renderer,
html[data-page-type=video][it-comments-sidebar='true'] #items.ytd-watch-next-secondary-results-renderer ytd-continuation-item-renderer {min-width: 300px; max-width: 420px !important; flex-grow: 1; flex-basis: 0 !important; margin-right: 8px;}


/*--------------------------------------------------------------
# COLLAPSED
--------------------------------------------------------------*/
html[it-comments='collapsed'][data-page-type=video] ytd-comments:not([it-activated]) ytd-comments-header-renderer::after {
	content: 'Show more' !important;
}

html[it-comments='collapsed'][data-page-type=video] ytd-comments[it-activated] ytd-comments-header-renderer::after {
	content: 'Show less' !important;
}

html[it-comments='collapsed'][data-page-type=video] ytd-comments ytd-comments-header-renderer::after {
	font-family: inherit !important;
	font-size: 1.6rem !important;
	font-weight: 400 !important;

	display: flex !important;

	width: 100% !important;
	height: 48px !important;
	margin: 16px 0 0 !important;

	color: var(--yt-spec-text-primary) !important;
	border-bottom: 1px solid var(--yt-spec-10-percent-layer) !important;

	justify-content: center !important;
	align-items: center !important;
}

html[it-comments='collapsed'][data-page-type=video] ytd-comments:not([it-activated]) ytd-item-section-renderer>#spinner-container,
html[it-comments='collapsed'][data-page-type=video] ytd-comments:not([it-activated]) ytd-item-section-renderer>#contents,
html[it-comments='collapsed'][data-page-type=video] ytd-comments:not([it-activated]) ytd-item-section-renderer>#continuations {
	visibility: hidden !important;

	pointer-events: none !important;
}

/*--------------------------------------------------------------
# HIDDEN
--------------------------------------------------------------*/
html[it-comments='hidden'] ytd-comments {
	display: none !important;
}

/*--------------------------------------------------------------
# HIDE AVATARS
--------------------------------------------------------------*/
html[it-hide-author-avatars='true'] ytd-comments #author-thumbnail,
html[it-hide-author-avatars='true'] ytd-comments #creator-thumbnail,
html[it-hide-author-avatars='true'] ytd-comments #hearted-thumbnail {
	display: none !important;
}
/*--------------------------------------------------------------
# SQUARED USER IMAGES
--------------------------------------------------------------*/
html[it-squared-user-images='true'] #avatar.ytd-shelf-renderer,
html[it-squared-user-images='true'] yt-img-shadow,
html[it-squared-user-images='true'] #yt-masthead-user .yt-masthead-user-icon {
	border-radius: unset !important;
}
